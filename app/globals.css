/* Global styles — minimal, neutral, non-branded */
:root {
  /* Brand tokens */
  --brandPrimary: var(--primary); /* main brand color */
  --brandPrimary-900: color-mix(in srgb, var(--brandPrimary) 85%, #000); /* darker */
  --brandPrimary-800: color-mix(in srgb, var(--brandPrimary) 70%, #000);
  --brandPrimary-700: color-mix(in srgb, var(--brandPrimary) 55%, #000);
  --brandPrimary-500: color-mix(in srgb, var(--brandPrimary) 30%, #fff); /* lighter */
  --neutral-100: #F5F7FA;
  --neutral-200: #E6EEF9;
  --neutral-800: #1A2337;
  --accent: var(--brandPrimary);

  /* Motion tokens */
  --ease-base: cubic-bezier(.2,.7,.2,1);
  --motion-fast: 180ms;
  --motion-base: 240ms;
  --brandPrimary: var(--primary);
  --brand: var(--primary);
  --headerFgLight: #ffffff;
  --headerFgDark: var(--ink);
  --headerTint: color-mix(in srgb, var(--brandPrimary) 28%, transparent);
  --shadowHeader: 0 8px 20px rgba(1, 4, 22, 0.12);
  --header-h: 72px; /* default header height at rest (desktop) */
  --hero-header-contrast: 0.22; /* top gradient opacity over hero for header readability */
  --shadow-soft: 0 8px 24px rgba(1,4,22,0.08);
  --bg: #0f1320;
  --bg-alt: #141a2a;
  --text: #e8ebf1;
  --muted: #9aa3b2;
  --accent: #36c2b4; /* Replace as needed */
  --primary: #006AF8; /* Optimum primary */
  --ink: #010416; /* Dark UI outside header */
  --gray: #808080; /* Neutral UI */
  --accent-warn: #FF0000; /* Not for header/mega menu */
  --utilityBg: color-mix(in srgb, var(--primary) 8%, white); /* lighter, less dominant */
  --utilityInk: #0b1215; /* dark ink for light bg */
  --utilityBorder: #E6EEF9; /* thin divider under utility */
  /* Utility bar height default to avoid header jump/overlap on SSR */
  --utility-h: 32px;
  /* Surface tokens */
  --s0: #FFFFFF; /* Pure */
  --s1: color-mix(in srgb, var(--primary) 8%, white); /* Very light primary tint (6–10%) */
  --s2: var(--primary); /* Strong brand surface */
  --s3: var(--ink); /* Dark surface */
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto,
    Ubuntu, Cantarell, Noto Sans, Arial, "Apple Color Emoji",
    "Segoe UI Emoji";
  background: linear-gradient(180deg, var(--bg), var(--bg-alt));
  color: var(--text);
}

main { display: flow-root; }

.container {
  width: min(1200px, 92%);
  margin: 0 auto;
}

.section { padding: clamp(56px, 8vw, 96px) 0; }
.full-hero { min-height: 140vh; display: grid; align-items: center; background: #fff; color: var(--ink); overflow: visible; }
/* World map + copy (50/50) */
.wm-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 40px; align-items: center; height: 100%; padding: 146px 0; }
.wm-illus { display: flex; align-items: flex-start; justify-content: flex-end; }
.wm-map-wrap { width: 580px; max-width: 100%; opacity: 0.9; }
.wm-copy { display: grid; gap: 16px; justify-items: start; align-self: center; }
.wm-copy-center { justify-items: center; }
.wm-badge { width: 48px; height: 48px; color: var(--primary); display: inline-flex; align-items: center; justify-content: center; border-radius: 12px; background: color-mix(in srgb, var(--primary) 14%, #ffffff); }
.wm-title { margin: 0; font-weight: 600; font-size: clamp(32px, 4vw, 36px); line-height: 1.3; color: #111111; max-width: 60ch; text-align: justify; text-justify: inter-word; }
.wm-body { margin: 0; font-size: 18px; line-height: 1.5; color: #333333; max-width: 70ch; text-align: justify; text-justify: inter-word; }
.wm-cta { display: inline-flex; align-items: center; gap: 12px; color: var(--primary); text-decoration: none; font-weight: 600; font-size: 16px; min-height: 44px; justify-self: end; }
.wm-cta .icon { width: 28px; height: 28px; border-radius: 999px; display: inline-flex; align-items: center; justify-content: center; }
.wm-cta:hover .icon svg path { transform: translateX(4px); }
.wm-cta .icon svg path { transition: transform 180ms ease-out; }
.wm-cta:focus-visible { outline: 2px solid var(--primary); outline-offset: 2px; border-radius: 6px; }
/* Mobile: single column under 768px */
@media (max-width: 767px) {
  .wm-grid { grid-template-columns: 1fr; gap: 28px; padding: 104px 0; justify-items: center; text-align: center; }
  .wm-copy { justify-items: center; }
  .wm-illus { justify-content: center; }
  .wm-map { width: 70%; }
}
/* Desktop refinements for collage/text spacing & alignment */
@media (min-width: 1280px) {
  /* Allow a wider working width to accommodate 560–600 text + 620 collage + 80–112 gap */
  .full-hero > .container { width: min(1280px, 94%); }
  .wm-grid { grid-template-columns: minmax(560px, 600px) 620px; gap: 80px; }
  .wm-illus { justify-content: flex-end; }
  .wm-copy { max-width: 600px; }
}
/* Tablet: keep two columns with lighter gap */
@media (min-width: 768px) and (max-width: 1279px) {
  .full-hero > .container { width: min(1200px, 94%); }
  .wm-grid { grid-template-columns: minmax(520px, 560px) 520px; gap: clamp(64px, 7vw, 80px); }
  .wm-illus { justify-content: flex-end; }
  .wm-copy { max-width: 560px; }
}

/* Prevent lateral scroll if any child bleeds to the right */
main { overflow-x: clip; }
@media (max-width: 767px) {
  .wm-grid { padding: 64px 0; }
  .wm-map { width: 85%; }
  .wm-title { font-size: 28px; }
  .wm-cta { justify-self: center; }
}
/* Entrance animation */
@keyframes fadeUpIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
.wm-copy, .wm-map { opacity: 0; animation: fadeUpIn 320ms ease-out 60ms both; }
@media (prefers-reduced-motion: reduce) { .wm-copy, .wm-map { animation: none; opacity: 1; } }
.section h2 { font-size: clamp(28px, 4.5vw, 44px); margin: 0 0 8px; }
.cards-grid { display: grid; grid-template-columns: repeat(4, minmax(0,1fr)); gap: 28px; }
@media (max-width: 1023px) { .cards-grid { grid-template-columns: repeat(2, minmax(0,1fr)); gap: 24px; } }
@media (max-width: 639px) { .cards-grid { grid-template-columns: 1fr; gap: 20px; } }

/* Value props */
.vp-card { padding: 0; }
.vp-card-body { padding: 18px; display: grid; gap: 8px; }
.vp-title { margin: 0; font-size: 20px; font-weight: 700; }
.vp-desc { margin: 0; font-size: 16px; color: #e8ebf1; opacity: 0.9; }
.vp-cta { color: #fff; text-decoration: none; font-weight: 700; }
.vp-card:hover { transform: translateY(-2px); box-shadow: 0 10px 24px rgba(1,4,22,0.12); transition: transform 160ms ease, box-shadow 160ms ease; }
.vp-card:focus-within { outline: 2px solid var(--primary); outline-offset: 2px; }

/* Find site */
.findsite { background: color-mix(in srgb, var(--primary) 8%, var(--ink)); }
.findsite-form { display: grid; grid-template-columns: 1fr auto; gap: 12px; }
@media (max-width: 639px) { .findsite-form { grid-template-columns: 1fr; } }
.findsite-input { width: 100%; padding: 14px 16px; border-radius: 10px; border: 1px solid #E6EEF9; background: #fff; color: var(--ink); font-size: 16px; }
.findsite-input:focus { outline: none; box-shadow: 0 0 0 3px color-mix(in srgb, var(--primary) 35%, transparent); border-color: var(--primary); }
.findsite-btn { padding: 12px 18px; border-radius: 10px; border: none; background: var(--primary); color: #fff; font-weight: 700; min-height: 44px; }
.findsite-link { color: #fff; }

/* Where we operate */
.where { background: var(--s3); color: #fff; position: relative; }
.where-grid { display: grid; grid-template-columns: 1.2fr 1fr; gap: 24px; align-items: center; }
@media (max-width: 1023px) { .where-grid { grid-template-columns: 1fr; } }
.where-eyebrow { text-transform: uppercase; letter-spacing: 0.12em; font-weight: 700; font-size: 12px; opacity: 0.9; }
.where-title { margin: 6px 0 8px; font-weight: 800; font-size: clamp(28px, 4.5vw, 44px); }
.where-desc { margin: 0 0 14px; font-size: 16px; line-height: 1.6; max-width: 60ch; }
.where-cta { display: inline-flex; align-items: center; gap: 8px; padding: 10px 16px; border-radius: 12px; border: 2px solid #fff; color: #fff; text-decoration: none; font-weight: 700; }
/* Africa map */
.africa-wrap { position: relative; }
.africa-svg { width: 100%; height: auto; display: block; }
.tier-n1 { fill: color-mix(in srgb, var(--primary) 75%, #fff); }
.tier-n2 { fill: color-mix(in srgb, var(--accent) 65%, #fff); }
.tier-n3 { fill: #ffffff22; }
.africa-legend { display: grid; grid-auto-flow: column; gap: 10px; align-items: center; margin-top: 10px; color: #e8ebf1; }
.lg { display: inline-block; width: 14px; height: 14px; border-radius: 3px; }
.lg-n1 { background: color-mix(in srgb, var(--primary) 75%, #fff); }
.lg-n2 { background: color-mix(in srgb, var(--accent) 65%, #fff); }
.lg-n3 { background: #ffffff22; }

/* Careers mini hero */
.careers-mini { position: relative; min-height: 60vh; display: grid; align-items: center; overflow: hidden; }
.careers-bg { position: absolute; inset: 0; background: linear-gradient(180deg, rgba(1,4,22,0.6), rgba(1,4,22,0.4)), url('/image/body/careers.jpg') center/cover no-repeat; filter: saturate(0.9); }
.careers-grid { position: relative; z-index: 1; }
.careers-copy { max-width: 600px; }
.careers-title { margin: 0 0 8px; font-size: clamp(28px, 5vw, 48px); }
.careers-deck { margin: 0 0 16px; font-size: 16px; line-height: 1.6; }
.careers-cta { display: inline-flex; align-items: center; gap: 8px; padding: 10px 16px; border-radius: 12px; background: var(--primary); color: #fff; text-decoration: none; font-weight: 700; }

/* ESG two-column */
.esg-grid { display: grid; grid-template-columns: 1.2fr 1fr; gap: 24px; align-items: center; }
@media (max-width: 1023px) { .esg-grid { grid-template-columns: 1fr; } }
.esg-eyebrow { text-transform: uppercase; letter-spacing: 0.12em; font-weight: 700; font-size: 12px; opacity: 0.9; }
.esg-title { margin: 6px 0 8px; font-weight: 800; font-size: clamp(28px, 4.5vw, 44px); }
.esg-desc { margin: 0 0 10px; font-size: 16px; line-height: 1.6; }
.esg-list { margin: 0 0 14px; padding-left: 18px; }
.esg-list li { margin: 4px 0; }
.esg-cta { display: inline-flex; align-items: center; gap: 8px; padding: 10px 16px; border-radius: 12px; border: 2px solid var(--primary); color: #fff; text-decoration: none; font-weight: 700; }

/* Contact targets */
.contact-card { text-decoration: none; color: inherit; }

/* AT first section under hero */
.at-intro { background: #fff; color: var(--ink); min-height: 80vh; display: grid; align-items: center; }
.at-intro.at-tight { min-height: 70vh; }
.at-intro.at-compact { min-height: 60vh; }
.at-grid { display: grid; grid-template-columns: 60% 40%; gap: 24px; align-items: center; }
@media (min-width: 1280px) {
  .at-grid { grid-template-columns: 680px 40px 480px; }
}
@media (max-width: 767px) { .at-grid { grid-template-columns: 1fr; } }
.at-collage {
  position: relative; min-height: 560px; overflow: hidden;
  padding-top: clamp(80px, 10vw, 100px); padding-bottom: clamp(72px, 8vw, 96px);
  /* Desktop @ ≥1280px */
  --main-w: 640px; /* main portrait */
  --smallA-w: 580px; /* landscape A */
  --smallB-w: 340px; /* portrait B */
  --off-x: 40px; --off-y: 28px; --off-right: 32px;
}
.at-accent-bar { position: absolute; left: 0; top: 24px; width: 14px; height: 88%; background: var(--primary); border-radius: 0; z-index: 0; }
@media (min-width: 1280px) {
  .at-collage { width: 680px; min-height: 100%; grid-column: 1; }
  .at-canvas { position: relative; width: 680px; height: 960px; transform-origin: 0 0; transform: scale(var(--collage-scale, 1)); }
  .at-accent-bar { width: 16px; height: 640px; left: 0; top: 24px; z-index: 1; }
  /* Absolute positions for exact baseline */
  .at-parallax { position: relative; margin: 0; width: 150%; left: 50%; aspect-ratio: 4/3; transform: translate(-50%, var(--plx, 0px)); will-change: transform; }
  .at-parallax .img { object-fit: contain; }
  .at-copy { grid-column: 3; padding: 0; }
  .at-dots { left: 0; right: auto; top: 24px; width: 420px; height: 220px; opacity: 0.22; }
  .at-title { display: none; }
  .at-lead { margin-top: 0; max-width: 480px; font-size: 26px; line-height: 1.5; }
  .at-link { margin-top: 40px; }
}

/* Three size levels (desktop) */
@media (min-width: 1280px) {
  .at-intro.at-size-lg { --collage-scale: 1; }
  .at-intro.at-size-md { --collage-scale: 0.92; }
  .at-intro.at-size-sm { --collage-scale: 0.85; }
  .at-intro.at-size-xs { --collage-scale: 0.78; }
}
.at-reveal { opacity: 0; transform: translateY(12px); transition: opacity 520ms cubic-bezier(.2,.7,.2,1), transform 520ms cubic-bezier(.2,.7,.2,1); transition-delay: var(--delay, 0ms); }
.at-collage.is-visible .at-reveal { opacity: 1; transform: translateY(0); }
@media (prefers-reduced-motion: reduce) { .at-reveal { opacity: 1 !important; transform: none !important; transition: none !important; } }
.img-main, .img-smallA, .img-smallB { position: relative; border-radius: 12px; overflow: hidden; z-index: 1; }
.img-smallA { z-index: 1; }
.img-main { z-index: 2; }
.img-smallB { z-index: 3; }
.img-main, .img-smallA { box-shadow: 0 8px 24px rgba(1,4,22,0.14); }
.img-smallB { box-shadow: 0 8px 24px rgba(1,4,22,0.16); }
.img-main { width: var(--main-w); aspect-ratio: 4/5; }
.img-smallA { width: var(--smallA-w); aspect-ratio: 16/9; position: absolute; left: calc(-1 * var(--off-x)); bottom: calc(-1 * var(--off-y)); }
.at-placard { position: absolute; right: 12px; bottom: -26px; width: 140px; height: 18px; background: var(--primary); border-radius: 4px; z-index: -1; }
.img-smallB { width: var(--smallB-w); aspect-ratio: 3/4; position: absolute; right: calc(-1 * var(--off-right)); top: 40%; transform: translateY(-40%); }
.img { object-fit: cover; }
.img-smallA .img { object-position: 70% 50%; }
.img-smallB .img { object-position: 30% 50%; }
/* subtle wash using overlay pseudo to harmonize */
.img-main::after, .img-smallA::after, .img-smallB::after { content: ''; position: absolute; inset: 0; background: color-mix(in srgb, var(--primary) 10%, transparent); pointer-events: none; }
/* Hover micro-zoom + elevation */
.img-main:hover .img, .img-smallA:hover .img, .img-smallB:hover .img { transform: scale(1.01); }
.img-main:hover, .img-smallA:hover { box-shadow: 0 8px 24px rgba(1,4,22,0.20); }
.img-smallB:hover { box-shadow: 0 8px 24px rgba(1,4,22,0.22); }
.img-main .img, .img-smallA .img, .img-smallB .img { transition: transform 200ms ease-out; will-change: transform; }
@media (max-width: 767px) { .img-main:hover .img, .img-smallA:hover .img, .img-smallB:hover .img { transform: scale(1.005); } }
/* Right column */
.at-copy { position: relative; padding: clamp(80px, 10vw, 100px) 0 clamp(72px, 8vw, 96px); }
.at-dots { position: absolute; right: 0; top: 0; width: min(520px, 44vw); height: 280px; opacity: 0.18; background-image: radial-gradient(currentColor 1px, transparent 1px); background-size: 10px 10px; color: #6b7280; z-index: 0; }
@media (min-width: 1280px) {
  .at-copy { position: relative; }
  .at-dots { left: 0; right: auto; top: 24px; width: 420px; height: 220px; opacity: 0.22; }
}
.at-title { position: relative; z-index: 1; margin: 0 0 8px; font-weight: 800; font-size: clamp(28px, 4.5vw, 44px); line-height: 1.2; }
.at-lead { position: relative; z-index: 1; margin: 0 0 12px; font-size: 16px; line-height: 1.6; max-width: 60ch; color: #111827; }
.at-link { position: relative; z-index: 1; display: inline-flex; align-items: center; gap: 10px; color: var(--primary); text-decoration: none; font-weight: 700; min-height: 44px; }
.at-link .icon { display: inline-flex; align-items: center; justify-content: center; width: 32px; height: 32px; border-radius: 999px; border: 2px solid currentColor; transition: background 180ms ease, transform 200ms ease; }
.at-link:hover .icon { background: color-mix(in srgb, var(--primary) 12%, transparent); transform: translateX(2px); }
.at-link .label { position: relative; }
.at-link .label::after { content: ''; position: absolute; left: 0; bottom: -2px; height: 2px; width: 100%; background: currentColor; transform: scaleX(0); transform-origin: left; transition: transform 200ms cubic-bezier(.2,.7,.2,1); }
.at-link:hover .label::after { transform: scaleX(1); }
.at-link:focus-visible { outline: 2px solid var(--primary); outline-offset: 2px; border-radius: 6px; }

/* Tablet scaling & offsets */
@media (min-width: 768px) and (max-width: 1279px) {
  /* ~15% reduction from desktop 560/720/360 */
  .at-collage { --main-w: 480px; --smallA-w: 600px; --smallB-w: 300px; --off-x: 8px; --off-y: 6px; --off-right: 8px; min-height: 520px; }
}
/* Mobile one-column */
@media (max-width: 767px) {
  .at-collage { --main-w: 88vw; --smallB-w: 42vw; --off-right: 6px; min-height: 520px; }
  .img-smallA { display: none; }
  .at-accent-bar { width: 8px; }
}

.btn {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 10px 16px;
  border-radius: 999px;
  background: var(--accent);
  color: #0b1215;
  font-weight: 600;
  border: none;
  cursor: pointer;
}

.muted { color: var(--muted); }

/* Utilities used by placeholders */
.placeholder-media {
  background: repeating-linear-gradient(
    -45deg,
    #ffffff10,
    #ffffff10 10px,
    #ffffff07 10px,
    #ffffff07 20px
  );
  border: 1px dashed #ffffff22;
}

.site-header {
  position: fixed;
  top: var(--utility-h, 0px);
  left: 0;
  right: 0;
  z-index: 50; /* sits below utility bar (55) */
  color: var(--headerFgLight);
  background: transparent;
  /* Performance: limit transitions to opacity/transform */
  transition: opacity 220ms var(--ease-base);
}
.site-header[data-solid="true"],
.site-header.is-scrolled {
  background: var(--brandPrimary);
  box-shadow: var(--shadowHeader);
  color: var(--header-fg-solid, var(--headerFgLight));
}
.site-header[data-solid="true"] > .container,
.site-header.is-scrolled > .container { height: calc(var(--header-h) - 8px); /* instant change (no height transition) */ }
.site-header[data-solid="false"],
.site-header:not(.is-scrolled) {
  background: transparent;
  box-shadow: none;
  color: var(--headerFgLight);
}
.site-header > .container { transition: height 220ms cubic-bezier(.2,.7,.2,1); height: var(--header-h); }
.site-header a, .site-header button { color: inherit; }
.site-header a:focus-visible, .site-header button:focus-visible { outline: 2px solid var(--primary); outline-offset: 2px; }

/* Offset: utility bar only (hero overlays under header); adjust per-page if needed */
main { padding-top: var(--utility-h, 32px); }

/* Drawer (mobile) */
.header-drawer { position: fixed; inset: 0; z-index: 95; pointer-events: none; }
.header-drawer .drawer-backdrop { position: absolute; inset: 0; background: rgba(0,0,0,0.45); opacity: 0; transition: opacity 200ms var(--ease-base); }
.header-drawer .drawer-panel { position: absolute; top: calc(var(--utility-h, 32px)); right: 0; bottom: 0; width: min(86vw, 360px); background: var(--s0); color: var(--ink); box-shadow: -20px 0 60px rgba(1,4,22,0.18); transform: translateX(100%); transition: transform 240ms var(--ease-base); display: grid; grid-template-rows: auto 1fr; }
.header-drawer.is-open { pointer-events: auto; }
.header-drawer.is-open .drawer-panel { transform: translateX(0); }
.header-drawer.is-open .drawer-backdrop { opacity: 1; }
.drawer-close { background: transparent; border: none; font-size: 28px; padding: 10px 14px; align-self: start; justify-self: end; cursor: pointer; }
.drawer-list { list-style: none; margin: 0; padding: 0 16px 12px; display: grid; gap: 10px; }
.drawer-list a { display: block; padding: 10px 8px; border-radius: 8px; color: var(--ink); text-decoration: none; font-weight: 700; }
.drawer-list a:hover, .drawer-list a:focus-visible { background: #F5F7FA; outline: none; }
.drawer-utility { margin-top: auto; padding: 10px 16px 16px; display: grid; gap: 8px; border-top: 1px solid #E6EEF9; }
.drawer-utility a { color: var(--ink); text-decoration: none; font-weight: 600; }
.drawer-ctas { position: sticky; bottom: 0; background: var(--s0); display: flex; gap: 8px; padding: 12px 16px 16px; border-top: 1px solid #E6EEF9; }
.drawer-accordion { width: 100%; text-align: left; background: transparent; border: none; font-weight: 800; padding: 12px 8px; cursor: pointer; border-radius: 8px; }
.drawer-accordion[aria-expanded="true"] { background: #F5F7FA; }
.drawer-accordion-panel { padding: 0 8px 8px 8px; }
.drawer-accordion-panel ul { list-style: none; margin: 0; padding: 0; display: grid; gap: 6px; }
.drawer-contact ul { list-style: none; margin: 8px 0 0; padding: 0; display: grid; gap: 6px; }
.masked { color: #4B5563; cursor: default; }

@media (prefers-reduced-motion: reduce) {
  .site-header { transition: none; }
  .site-header > .container { transition: none; }
  .header-drawer .drawer-panel, .header-drawer .drawer-backdrop { transition: none !important; }
}

/* UtilityBar non-sticky on mobile; Header remains sticky */
@media (max-width: 767px) {
  .utility-bar { position: static; }
  .site-header { top: 0; }
  main { padding-top: var(--header-h, 56px); }
}

/* Responsive header height tokens */
@media (max-width: 1023px) {
  :root { --header-h: 64px; }
}
@media (max-width: 767px) {
  :root { --header-h: 56px; }
}
/* Utility bar is sticky; height adapts on touch via --utility-h */
/* @media (pointer: coarse) { :root { --utility-h: 44px; } } */

/* Header navigation styles (neutral) */
.header-desktop-nav { display: none; }
.desktop-only { display: none; }
.mobile-only { display: inline-flex; }

@media (min-width: 900px) {
  .header-desktop-nav { display: block; }
  .desktop-only { display: inline-flex; }
  .mobile-only { display: none !important; }
}

.header-nav-list {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  gap: 20px;
  align-items: center;
}

.nav-item { position: relative; }
.nav-link, .nav-button {
  color: #fff;
  text-decoration: none;
  background: transparent;
  border: none;
  padding: 10px 6px; /* larger target; see min-height below */
  font: inherit;
  cursor: pointer;
}
.nav-button { min-height: 44px; }
.nav-link:hover, .nav-button:hover { color: #fff; opacity: 0.85; }

/* Top-level header interactive items underline + state */
.header-item { position: relative; display: inline-flex; align-items: center; white-space: nowrap; }
.header-item:hover, .header-item:active { opacity: 0.85; }
.header-item:focus-visible { outline: none; opacity: 0.85; }

/* Limit underline to desktop primary nav items */
.header-desktop-nav .header-item { padding-bottom: 10px; }
.header-desktop-nav .header-item::after {
  content: '';
  position: absolute;
  left: 50%;
  bottom: 0; /* sits within extra bottom padding to avoid clipping */
  width: 48px;
  height: 3px;
  background: #FFFFFF;
  border-radius: 12px;
  margin-left: -24px; /* center the 48px line under label */
  transform: scaleX(0);
  transform-origin: right; /* draw from right to left */
  opacity: 1;
  transition: transform 260ms cubic-bezier(.2,.7,.2,1);
  will-change: transform;
}
.header-desktop-nav .header-item:hover::after,
.header-desktop-nav .header-item:active::after,
.header-desktop-nav .header-item:focus-visible::after { transform: scaleX(1); }
.nav-button[aria-expanded="true"] { opacity: 0.85; }
.nav-button[aria-expanded="true"]::after { transform: scaleX(1); }

@media (prefers-reduced-motion: reduce) {
  .header-desktop-nav .header-item::after { transition: none; }
  .site-header { transition-duration: 120ms; }
  .site-header > .container { transition-duration: 120ms; }
}

.nav-button .caret {
  display: inline-block;
  margin-left: 6px;
  width: 0; height: 0;
  border-left: 5px solid transparent;
  border-right: 5px solid transparent;
  border-top: 6px solid currentColor;
  vertical-align: middle;
}
.chevron {
  display: inline-block;
  width: 10px; height: 10px;
  margin-left: 6px;
  border-right: 2px solid currentColor;
  border-bottom: 2px solid currentColor;
  transform: rotate(45deg);
  transition: transform 220ms cubic-bezier(.2,.7,.2,1);
}
.nav-button:hover .chevron,
.nav-button[aria-expanded="true"] .chevron { transform: rotate(-135deg); }

.dropdown-panel {
  position: absolute;
  top: calc(100% + 8px);
  left: 0;
  min-width: 220px;
  background: #0e1422;
  border: 1px solid #ffffff22;
  border-radius: 10px;
  padding: 8px;
  display: grid;
  gap: 4px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.4);
}
.dropdown-grid {
  grid-template-columns: repeat(4, minmax(200px, 1fr));
  gap: 12px 16px;
  padding: 12px;
}
.dropdown-group { display: grid; gap: 6px; }
.group-title { font-weight: 700; color: rgba(1, 4, 22, 0.9); margin-bottom: 2px; }
.dropdown-link {
  color: var(--ink);
  text-decoration: none;
  display: block; /* wide hit area */
  padding: 6px 2px;
  border-radius: 6px; /* for outline */
}
.dropdown-link:focus-visible { outline: 2px solid var(--primary); outline-offset: 2px; }
.dropdown-link:hover { color: var(--primary); }
.dropdown-link:visited { color: color-mix(in srgb, var(--primary) 80%, black); }

/* Text-width underline for sub-links (span wraps only text) */
.dropdown-link .link-label { position: relative; display: inline-block; padding-bottom: 2px; }
.dropdown-link .link-label::after {
  content: '';
  position: absolute;
  left: 0;
  bottom: 0; /* close to baseline */
  width: 100%;
  height: 2px;
  background: var(--primary);
  transform: scaleX(0);
  transform-origin: left; /* left to right draw */
  transition: transform 220ms cubic-bezier(.2,.7,.2,1);
}
.dropdown-link:hover .link-label::after { transform: scaleX(1); }
.dropdown-link:focus-visible .link-label::after { transform: scaleX(1); }
.dropdown-link:active .link-label::after { transform: scaleX(1); bottom: 1px; }

.header-cta { padding: 8px 14px; }

.btn-contrast {
  background: #fff;
  color: #0b1215;
}
.btn-contrast:hover { filter: brightness(0.95); }

/* Buttons (CTAs) */
.btn-primary {
  background: var(--primary);
  color: #fff;
}
.btn-primary:hover { opacity: 0.85; }
.btn-primary:focus-visible { outline: 2px solid var(--primary); outline-offset: 2px; }

.btn-secondary {
  background: var(--s0);
  color: var(--primary);
  border: 2px solid var(--primary);
}
.btn-secondary:hover { opacity: 0.85; }
.btn-secondary:focus-visible { outline: 2px solid var(--primary); outline-offset: 2px; }

/* Cards */
.card {
  background: var(--s0);
  border: 1px solid #E6EEF9; /* Very light primary line */
  border-radius: 12px;
  box-shadow: 0 0 0 rgba(0,0,0,0);
  transition: box-shadow 160ms ease;
}
.card:hover { box-shadow: 0 10px 24px rgba(1, 4, 22, 0.08); }

/* Overlay utilities for imagery */
.overlay-ink { background: rgba(1, 4, 22, 0.5); }
.overlay-ink-gradient {
  background: linear-gradient(180deg, rgba(1,4,22,0.64), rgba(1,4,22,0.48));
}
.overlay-primary-gradient {
  background: linear-gradient(180deg, rgba(0,106,248,0.56), rgba(0,106,248,0.40));
}

/* Footer */
.site-footer { background: #0B0F17; color: #fff; position: relative; z-index: 1; border-radius: 0; box-shadow: none; padding: 64px 0 24px; }
.site-footer .container { max-width: 1200px; margin: 0 auto; padding: 0 24px; }
.legal-bar, .footer-bottom { border-top: 1px solid rgba(255,255,255,.08); margin-top: 32px; padding-top: 16px; }
.site-footer a { color: #fff; text-decoration: none; }
.site-footer a:hover { color: var(--primary); text-decoration: underline; }
.footer-grid { display: grid; grid-template-columns: 1.2fr 1fr 1fr; gap: 24px; align-items: start; }
@media (max-width: 899px) { .footer-grid { grid-template-columns: 1fr; } }
.footer-title { margin: 0 0 8px; font-weight: 700; }
.footer-links { list-style: none; margin: 0; padding: 0; display: grid; gap: 8px; }
.footer-link { color: #fff; text-decoration: none; font-weight: 600; }
.footer-link:hover { color: var(--primary); text-decoration: underline; }
.footer-bottom { display: flex; justify-content: space-between; align-items: center; gap: 16px; padding-top: 12px; border-top: 1px solid #ffffff22; font-size: 12px; color: #E6EEF9; flex-wrap: wrap; }
.footer-social { display: flex; gap: 12px; }
.footer-social a { width: 32px; height: 32px; border-radius: 999px; display: inline-flex; align-items: center; justify-content: center; border: 1px solid #ffffff33; }
.footer-social a:hover { border-color: var(--primary); color: var(--primary); }
.footer-social a:focus-visible { outline: 2px solid var(--primary); outline-offset: 2px; }

/* Search button: 40x40 circle, 44x44 hit area */
.search-btn {
  width: 44px;
  height: 44px;
  border-radius: 9999px;
  background: transparent;
  border: 0; /* border drawn by pseudo-element to keep 40x40 ring */
  color: inherit; /* inherit header color (transparent vs solid) */
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  position: relative;
  transition: opacity 120ms ease, transform 80ms ease; /* performance: only opacity/transform */
}
.search-btn::before {
  content: '';
  position: absolute;
  inset: 2px; /* creates 40x40 inner circle inside 44x44 hit target */
  border-radius: 9999px;
  border: 2px solid currentColor; /* ring matches the current header color */
}
.search-btn:hover { opacity: 0.85; }
.search-btn:active { transform: scale(0.98); }
.search-btn:focus-visible {
  outline: none;
  box-shadow: 0 0 0 3px rgba(255,255,255,0.35);
}

.mobile-menu-btn {
  background: transparent;
  color: #fff;
  border: none;
  padding: 8px 10px;
  min-height: 44px;
}

/* Search dialog */
.search-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.5);
  display: grid;
  place-items: center;
  z-index: 100;
}
.mega-panel {
  position: fixed;
  top: calc(var(--header-h, 72px) + var(--utility-h, 0px));
  left: 0;
  right: 0;
  z-index: 90; /* Above header(50) and utility menu(70), below modal(100) */
  background: var(--s0); /* Dropdown container: pure white */
  color: var(--ink);
  border-top: 2px solid var(--primary); /* Top rule */
  padding: 0; /* Columns have their own padding */
  box-shadow: 0 20px 60px rgba(1, 4, 22, 0.12), 0 2px 10px rgba(1, 4, 22, 0.06); /* Soft depth */
  pointer-events: auto;
}
.mega-grid {
  display: grid;
  grid-template-columns: minmax(320px, 460px) 1fr; /* Left ~32–36%, min 320px */
  gap: 0;
}
.mega-left {
  display: grid;
  gap: 8px;
  padding: 32px 40px;
  background: #ffffff;
}
.mega-title { margin: 0; color: #222; }
.mega-heading-link {
  display: inline-flex;
  align-items: baseline;
  gap: 8px; /* small gap between text and chevron */
  font-weight: 600; /* semi-bold */
  font-size: 22px; /* 20–22 px */
  color: var(--brand);
  text-decoration: none;
  position: relative;
}
.mega-heading-link::after { content: ''; position: absolute; left: 0; bottom: -3px; width: 100%; height: 2px; background: currentColor; transform: scaleX(0); transform-origin: left; transition: transform 160ms var(--ease-base); }
.mega-heading-link:hover::after, .mega-heading-link:focus-visible::after { transform: scaleX(1); }
.mega-heading-link:focus-visible { outline: 2px solid var(--brand); outline-offset: 2px; border-radius: 4px; }
.mega-heading-link:focus-visible { outline: 2px solid #006AF8; outline-offset: 2px; border-radius: 4px; }
.heading-chevron {
  display: inline-block;
  width: 12px; height: 12px; /* 12–14 px */
  border-right: 2px solid currentColor;
  border-top: 2px solid currentColor;
  transform: rotate(45deg); /* right-pointing */
  transition: transform 160ms var(--ease-base);
}
.mega-heading-link:hover .heading-chevron,
.mega-heading-link:focus-visible .heading-chevron {
  transform: rotate(45deg) translateX(2px); /* subtle nudge */
}
.mega-desc {
  margin: 16px 0 0; /* 12–16 px below heading */
  color: #444;
  line-height: 1.6;
  max-width: 60ch; /* 48–60ch */
}
.mega-right { display: grid; grid-template-columns: repeat(4, minmax(180px, 1fr)); gap: 16px 24px; padding: 20px 24px; background: var(--s0); border-left: 1px solid #E6EEF9; }

.ed-cta { display: inline-flex; align-items: center; gap: 8px; color: var(--primary); text-decoration: none; font-weight: 700; position: relative; }
.ed-cta::after { content: ""; position: absolute; left: 0; bottom: -2px; width: 100%; height: 2px; background: currentColor; transform: scaleX(0); transform-origin: left; transition: transform 200ms var(--ease-base); }
/* Appearance animation (Helios-like): fade + slight slide, with stagger */
@keyframes fadeSlideIn {
  from { opacity: 0; transform: translateY(8px); }
  to   { opacity: 1; transform: translateY(0); }
}
.mega-panel .mega-left,
.mega-panel .mega-right { animation: fadeSlideIn 420ms cubic-bezier(.2,.7,.2,1) both; }
.mega-panel .mega-left .mega-heading-link,
.mega-panel .mega-left .mega-desc,
.mega-panel .mega-right .dropdown-group,
.mega-panel .mega-right .dropdown-link { opacity: 0; transform: translateY(8px); animation: fadeSlideIn 420ms cubic-bezier(.2,.7,.2,1) both; }
/* Stagger */
.mega-panel .mega-left .mega-heading-link { animation-delay: 60ms; }
.mega-panel .mega-left .mega-desc { animation-delay: 120ms; }
.mega-panel .mega-right .dropdown-link:nth-of-type(1) { animation-delay: 80ms; }
.mega-panel .mega-right .dropdown-link:nth-of-type(2) { animation-delay: 120ms; }
.mega-panel .mega-right .dropdown-link:nth-of-type(3) { animation-delay: 160ms; }
.mega-panel .mega-right .dropdown-link:nth-of-type(4) { animation-delay: 200ms; }
.mega-panel .mega-right .dropdown-link:nth-of-type(5) { animation-delay: 240ms; }
.mega-panel .mega-right .dropdown-link:nth-of-type(6) { animation-delay: 280ms; }
.mega-panel .mega-right .dropdown-link:nth-of-type(7) { animation-delay: 320ms; }
.mega-panel .mega-right .dropdown-link:nth-of-type(8) { animation-delay: 360ms; }
.mega-panel .mega-right .dropdown-link:nth-of-type(9) { animation-delay: 400ms; }
.mega-panel .mega-right .dropdown-link:nth-of-type(10) { animation-delay: 440ms; }
.mega-panel .mega-right .dropdown-link:nth-of-type(11) { animation-delay: 480ms; }
.mega-panel .mega-right .dropdown-link:nth-of-type(12) { animation-delay: 520ms; }
@media (prefers-reduced-motion: reduce) {
  .mega-heading-link::after { transition: none; transform: scaleX(1); }
  .mega-heading-link .heading-chevron { transition: none; transform: rotate(45deg); }
  .mega-caret { transition: none; animation: none; opacity: 1; }
  .mega-panel .mega-left,
  .mega-panel .mega-right,
  .mega-panel .mega-left .mega-heading-link,
  .mega-panel .mega-left .mega-desc,
  .mega-panel .mega-right .dropdown-group,
  .mega-panel .mega-right .dropdown-link { animation: none !important; opacity: 1 !important; transform: none !important; }
}
.mega-caret {
  position: fixed;
  top: calc(var(--header-h, 72px) + var(--utility-h, 0px));
  left: 0;
  width: 0; height: 0;
  border-left: 10px solid transparent;
  border-right: 10px solid transparent;
  border-bottom: 10px solid var(--brand);
  filter: drop-shadow(0 1px 1px rgba(1,4,22,0.06));
  z-index: 91; /* above panel top border */
  opacity: 0;
  transform: translateX(calc(var(--caret-x, 0px))) translateY(-100%) translateY(1px);
  transition: opacity var(--motion-fast) var(--ease-base), transform var(--motion-fast) var(--ease-base);
  animation: caret-in var(--motion-fast) var(--ease-base) both;
}
@keyframes caret-in { from { opacity: 0; transform: translateX(calc(var(--caret-x, 0px))) translateY(-100%) translateY(-2px); } to { opacity: 1; transform: translateX(calc(var(--caret-x, 0px))) translateY(-100%) translateY(1px); } }
@media (max-width: 899px) {
  .mega-panel { display: none !important; }
}
.nav-button:focus-visible { outline: 2px solid var(--primary); outline-offset: 4px; border-radius: 6px; }
.mobile-accordion {
  width: 100%;
  text-align: left;
  background: transparent;
  color: #fff;
  border: 1px solid #ffffff33;
  border-radius: 8px;
  padding: 10px 12px;
}
.mobile-accordion[aria-expanded="true"] { opacity: 0.85; }
.mobile-accordion .chevron { float: right; }
.mobile-accordion-panel { padding: 8px 12px; }
.search-modal {
  width: min(720px, 92%);
  background: #0e1422;
  border: 1px solid #ffffff22;
  border-radius: 12px;
  padding: 16px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.6);
}
.search-input {
  width: 100%;
  margin: 8px 0 12px;
  padding: 12px 14px;
  border-radius: 10px;
  border: 1px solid #E6EEF9; /* Light primary-tint */
  background: var(--s0);
  color: var(--ink);
}
.search-input:focus-visible {
  outline: none;
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--primary) 35%, transparent);
  border-color: var(--primary);
}

/* Hero — layered background video, overlay, and left polygon panel */
.hero {
  position: relative;
  min-height: 100vh; /* full viewport to match Helios */
  display: grid;
  align-items: center; /* will place content near center; adjust with margins below */
  overflow: clip;
  /* Begin at natural flow below fixed header; spacing handled by main padding */
  margin-top: 0;
  /* Polygon/body ratios and vw equivalents to align text with polygon */
  --poly-body: 40%;
  --poly-tip: 50%;
  --poly-body-vw: 40vw;
  --poly-tip-vw: 50vw;
  /* Inspired by Helios: slight transparency (~5%) */
  --poly-alpha: 5%; /* 5% transparent */
}
.hero-video {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: 60% center; /* subject right, space left */
  z-index: 0;
}
.hero-img { position: absolute; inset: 0; width: 100%; height: 100%; opacity: 1; transition: opacity var(--motion-base) var(--ease-base); will-change: transform, opacity; }
.hero-img.is-prev { opacity: 0; }
.hero-img.is-current { opacity: 1; }
.hero-kenburns { transform-origin: 80% 50%; will-change: transform; }
/* Desktop: +6% amplitude, 20s */
@keyframes hero-kb-desktop {
  from { transform: scale(1.02) translateX(-1%); }
  to   { transform: scale(1.08) translateX(0%); }
}
/* Tablet: +4% amplitude, 17s */
@keyframes hero-kb-tablet {
  from { transform: scale(1.01) translateX(-0.5%); }
  to   { transform: scale(1.05) translateX(0%); }
}
/* Mobile: +3% amplitude, 12s */
@keyframes hero-kb-mobile {
  from { transform: scale(1.00) translateX(-0.25%); }
  to   { transform: scale(1.03) translateX(0%); }
}
@media (min-width: 1280px) { .hero-kenburns { animation: hero-kb-desktop 20s linear infinite alternate; } }
@media (min-width: 768px) and (max-width: 1279px) { .hero-kenburns { animation: hero-kb-tablet 17s linear infinite alternate; } }
@media (max-width: 767px) { .hero-kenburns { animation: hero-kb-mobile 12s linear infinite alternate; } }
/* Allow pausing via class */
.kb-paused { animation-play-state: paused !important; }
@media (prefers-reduced-motion: reduce) {
  .hero-kenburns { animation: none !important; }
}

/* WOW entry animations: diagonal sweep + zoom/pan variants */
@keyframes hero-sweep {
  0%   { clip-path: polygon(0 0, 0 0, 0 100%, 0 100%); opacity: 0.7; }
  60%  { clip-path: polygon(0 0, 100% 0, 100% 85%, 0 100%); opacity: 0.95; }
  100% { clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%); opacity: 1; }
}
@keyframes wow-zoom-in {
  from { transform: perspective(800px) scale(1.30) translateY(4%) rotateZ(0.4deg); }
  to   { transform: perspective(800px) scale(1.00) translateY(0%) rotateZ(0deg); }
}
@keyframes wow-zoom-out {
  from { transform: perspective(800px) scale(0.85) translateY(-3%) rotateZ(0); }
  to   { transform: perspective(800px) scale(1.08) translateY(0%) rotateZ(0.25deg); }
}
@keyframes wow-pan-left {
  from { transform: perspective(800px) scale(1.18) translateX(4%) translateY(2%); }
  to   { transform: perspective(800px) scale(1.00) translateX(0) translateY(0); }
}
@keyframes wow-pan-right {
  from { transform: perspective(800px) scale(1.18) translateX(-4%) translateY(2%); }
  to   { transform: perspective(800px) scale(1.00) translateX(0) translateY(0); }
}
/* Slow, eye-visible entrance — further slowed */
.wow { animation: hero-sweep 1800ms cubic-bezier(.2,.7,.2,1) both; }
.wow.wow-in { animation-name: hero-sweep, wow-zoom-in; animation-duration: 1800ms, 6000ms; animation-delay: 0ms, 200ms; animation-timing-function: cubic-bezier(.2,.7,.2,1), cubic-bezier(.2,.8,.2,1); animation-fill-mode: both, both; }
.wow.wow-out { animation-name: hero-sweep, wow-zoom-out; animation-duration: 1800ms, 6000ms; animation-delay: 0ms, 200ms; animation-timing-function: cubic-bezier(.2,.7,.2,1), cubic-bezier(.2,.8,.2,1); animation-fill-mode: both, both; }
.wow.wow-left { animation-name: hero-sweep, wow-pan-left; animation-duration: 1800ms, 6000ms; animation-delay: 0ms, 200ms; animation-timing-function: cubic-bezier(.2,.7,.2,1), cubic-bezier(.2,.8,.2,1); animation-fill-mode: both, both; }
.wow.wow-right { animation-name: hero-sweep, wow-pan-right; animation-duration: 1800ms, 6000ms; animation-delay: 0ms, 200ms; animation-timing-function: cubic-bezier(.2,.7,.2,1), cubic-bezier(.2,.8,.2,1); animation-fill-mode: both, both; }

@media (prefers-reduced-motion: reduce) {
  .wow, .wow.wow-in, .wow.wow-out, .wow.wow-left, .wow.wow-right { animation: none !important; }
}
.hero-overlay {
  position: absolute; inset: 0; z-index: 1;
  /* Darken bottom 40–55% + subtle brand tint wash */
  background:
    /* top gradient for header readability over hero */
    linear-gradient(180deg, rgba(1,4,22, var(--hero-header-contrast, 0.22)) 0%, rgba(1,4,22,0.00) 24%),
    /* brand tint (light wash) */
    linear-gradient(0deg,
      color-mix(in srgb, var(--brandPrimary) var(--hero-tint-top, 12%), transparent),
      color-mix(in srgb, var(--brandPrimary) var(--hero-tint-bottom, 6%), transparent)
    ),
    /* top clear, bottom dark */
    linear-gradient(180deg,
      rgba(1,4,22, var(--hero-dark-top, 0.00)) 0%,
      rgba(1,4,22, var(--hero-dark-60, 0.30)) 60%,
      rgba(1,4,22, var(--hero-dark-100, 0.56)) 100%
    );
  pointer-events: none;
}

/* Polygon overlay (left body + right-pointing tip) */
.hero-poly {
  position: absolute; inset: 0; z-index: 2; /* above overlay, below content */
  background: linear-gradient(180deg,
      color-mix(in srgb, var(--poly-color, var(--brandPrimary)) var(--poly-top-mix, 85%), #000) 0%,
      color-mix(in srgb, var(--poly-color, var(--brandPrimary)) calc(100% - var(--poly-bottom-wash, 0%)), #fff var(--poly-bottom-wash, 0%)) 100%
    );
  /* Pentagone: corps = var(--poly-body), pointe = var(--poly-tip) */
  clip-path: polygon(0% 0%, var(--poly-body) 0%, var(--poly-tip) 50%, var(--poly-body) 100%, 0% 100%);
  box-shadow: inset 0 1px 2px rgba(0,0,0,0.18), inset 0 -1px 2px rgba(0,0,0,0.08);
  opacity: var(--poly-opacity, 0.95); /* ~5% transparency overall */
  pointer-events: none;
}
@media (max-width: 1279px) {
  .hero { --poly-body: 38%; --poly-tip: 50%; --poly-body-vw: 38vw; --poly-tip-vw: 50vw; --poly-alpha: 5%; }
}
@media (max-width: 767px) {
  .hero { --poly-body: 36%; --poly-tip: 50%; --poly-body-vw: 36vw; --poly-tip-vw: 50vw; --poly-alpha: 5%; }
}
.hero-panel {
  position: relative;
  z-index: 3;
  max-width: 600px; /* resserré pour une lecture plus proche d'Helios */
  width: min(600px, 92%);
  color: #ffffff; /* white on darkened image */
  background: transparent; /* text directly over image */
  padding: 0 0 8px 0;
}
.hero-eyebrow { text-transform: uppercase; letter-spacing: 0.12em; font-weight: 700; color: #ffffff; opacity: 0.9; font-size: 11px; }
.hero-title { margin: 6px 0 8px; font-weight: 700; font-size: clamp(30px, 4.5vw, 44px); line-height: 1.12; letter-spacing: 0.01em; color: #ffffff; }
.hero-deck { margin: 0 0 16px; font-size: clamp(14px, 2vw, 18px); line-height: 1.55; color: #f5f7fa; max-width: 60ch; }
.hero-ctas { display: flex; gap: 20px; flex-wrap: wrap; }
.btn-hero-primary { background: var(--brandPrimary); color: #fff; padding: 10px 18px; border-radius: 12px; border: none; font-weight: 700; cursor: pointer; min-height: 44px; display: inline-flex; align-items: center; font-size: 15px; }
.btn-hero-primary:hover { filter: brightness(0.95); }
.btn-hero-secondary { background: transparent; color: #fff; border: 2px solid #fff; padding: 8px 16px; border-radius: 12px; font-weight: 700; min-height: 44px; display: inline-flex; align-items: center; font-size: 15px; }
.btn-hero-secondary:hover { background: rgba(255,255,255,0.08); }
.btn-hero-primary:focus-visible, .btn-hero-secondary:focus-visible { outline: 2px solid var(--brandPrimary); outline-offset: 2px; }

.hero-bottombar {
  position: absolute; left: 50%; bottom: 10px; transform: translateX(-50%);
  z-index: 3;
  display: flex; align-items: center; gap: 12px;
  color: #fff;
}
.hero-segments { display: inline-grid; grid-auto-flow: column; gap: 6px; }
.hero-segment { width: 28px; height: 6px; border-radius: 3px; background: rgba(255,255,255,0.35); border: none; cursor: pointer; padding: 0; }
.hero-segment.is-active { background: var(--accent); }
.hero-pp { width: 44px; height: 44px; border-radius: 999px; border: 2px solid #fff; background: transparent; color: #fff; display: inline-flex; align-items: center; justify-content: center; cursor: pointer; }
.hero-pp:focus-visible { outline: 2px solid var(--brandPrimary); outline-offset: 2px; }
.hero-segment:focus-visible { outline: 2px solid var(--brandPrimary); outline-offset: 2px; }
.where-cta:focus-visible, .esg-cta:focus-visible, .vp-cta:focus-visible, .findsite-btn:focus-visible { outline: 2px solid var(--primary); outline-offset: 2px; border-radius: 10px; }

@media (max-width: 1023px) {
  .hero-title { font-size: clamp(26px, 5vw, 36px); }
  .hero-deck { font-size: clamp(14px, 1.8vw, 16px); }
  .hero-panel { width: min(600px, 92%); }
}
@media (max-width: 767px) {
  .hero { min-height: 92vh; }
  .hero-panel { width: min(560px, 92%); }
  .hero-bottombar { bottom: 8px; }
}

/* White baseline + upward notch under polygon tip */
.hero-baseline {
  position: absolute; left: 0; right: 0; bottom: 0;
  height: 10px; background: #fff; z-index: 4;
}
.hero-baseline::before {
  content: '';
  position: absolute; bottom: 100%; left: var(--poly-tip); transform: translateX(-50%);
  width: 6%; height: 22px;
  background: #fff;
  clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
}
@media (max-width: 1279px) { .hero-baseline::before { width: 7%; height: 20px; } }
@media (max-width: 767px) { .hero-baseline::before { width: 8%; height: 18px; } }

/* Align container/grid with polygon body so text right edge suit the cut */
.hero > .container {
  display: grid;
  grid-template-columns: var(--poly-body-vw) 1fr;
  padding-left: var(--hero-align-pad, clamp(4vw, 6vw, 8vw));
}
.hero-panel { grid-column: 1; padding-left: 0; }

@media (prefers-reduced-motion: reduce) {
  .hero, .hero * { transition-duration: 120ms; animation-duration: 120ms; }
}

/* Utility bar styles */
.utility-bar {
  position: fixed; /* sticky at the very top */
  top: 0; left: 0; right: 0;
  z-index: 55; /* above header (50) */
  background: var(--utilityBg);
  color: var(--utilityInk);
  border-bottom: 1px solid var(--utilityBorder);
}
.utility-grid {
  height: var(--utility-h); /* 32px default, 44px on touch */
  display: flex;
  align-items: center;
  gap: 24px; /* 20–24 px as spec */
  font-size: 15px; /* improved legibility */
  letter-spacing: 0.02em;
}
.utility-left, .utility-center, .utility-right { display: flex; align-items: center; gap: 12px; }
.utility-left { flex: 1 1 auto; min-width: 0; }
.utility-center { flex: 0 0 auto; min-width: 0; color: color-mix(in srgb, var(--utilityInk) 90%, transparent); }
.utility-right { flex: 0 0 auto; gap: 16px; }
.utility-item { white-space: nowrap; color: var(--utilityInk); }
.utility-label { font-weight: 600; margin-right: 6px; }
.utility-sep { opacity: 0.5; }
.utility-chip {
  display: inline-flex; align-items: center; justify-content: center;
  height: 22px; min-width: 22px; padding: 0 6px;
  font-size: 12px; font-weight: 700; border-radius: 999px;
  background: color-mix(in srgb, var(--primary) 16%, white);
  color: var(--utilityInk);
}
.utility-link {
  position: relative;
  color: var(--utilityInk);
  text-decoration: none;
  font-weight: 600;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-height: 32px;
  padding: 0 8px; /* 44x touch */
}
.utility-link::after {
  content: '';
  position: absolute; left: 0; bottom: -3px;
  width: 100%; height: 2px; border-radius: 2px;
  background: var(--primary);
  transform: scaleX(0); transform-origin: left;
  transition: transform 200ms cubic-bezier(.2,.7,.2,1);
}
.utility-link:hover::after, .utility-link:focus-visible::after { transform: scaleX(1); }
.utility-link:focus-visible { outline: 2px solid var(--primary); outline-offset: 2px; border-radius: 4px; }

/* Toggle button for language (same interaction affordance as links) */
.utility-toggle {
  position: relative;
  color: var(--utilityInk);
  background: transparent;
  border: none;
  font: inherit;
  font-weight: 600;
  cursor: pointer;
  display: inline-flex; align-items: center; justify-content: center;
  min-height: 32px; padding: 0 8px;
}
.utility-toggle::after {
  content: '';
  position: absolute; left: 0; bottom: -3px;
  width: 100%; height: 2px; border-radius: 2px;
  background: var(--primary);
  transform: scaleX(0); transform-origin: left;
  transition: transform 200ms cubic-bezier(.2,.7,.2,1);
}
.utility-toggle:hover::after, .utility-toggle:focus-visible::after { transform: scaleX(1); }
.utility-toggle:focus-visible { outline: 2px solid var(--primary); outline-offset: 2px; border-radius: 4px; }

@media (max-width: 899px) {
  .utility-center { display: none; }
  .utility-grid { gap: 16px; }
}

/* Status dot (OK/warn/down) */
.status-dot { width: 10px; height: 10px; border-radius: 50%; display: inline-block; margin-right: 6px; box-shadow: 0 0 0 2px color-mix(in srgb, var(--utilityInk) 15%, transparent) inset; }
.status-ok { background: #17a34a; }
.status-warn { background: #f59e0b; }
.status-down { background: #ef4444; }

/* Medium screens: compact left info, limit links */
@media (min-width: 768px) and (max-width: 1023px) {
  .utility-label-full { display: none; }
  .utility-label-compact { display: inline; }
  .utility-right .is-optional { display: none; } /* keep 3 links max */
}
/* Default: show full labels, hide compact variant */
.utility-label-compact { display: none; }

/* Small screens: kebab menu; single line left + menu button */
@media (max-width: 767px) {
  .utility-right { display: none; }
  .utility-kebab-wrap { display: block; margin-left: auto; position: relative; }
}
@media (min-width: 768px) {
  .utility-kebab-wrap { display: none; }
}
.utility-kebab {
  width: 36px; height: 36px; border-radius: 8px; border: 1px solid var(--utilityBorder);
  background: transparent; color: var(--utilityInk); display: inline-flex; align-items: center; justify-content: center; cursor: pointer;
}
@media (pointer: coarse) {
  .utility-link, .utility-toggle { min-height: 44px; }
  .utility-kebab { width: 44px; height: 44px; }
}
.kebab-dot { width: 3px; height: 3px; border-radius: 50%; background: currentColor; margin: 0 1px; }
.utility-kebab:focus-visible { outline: 2px solid var(--primary); outline-offset: 2px; }
.utility-menu {
  position: absolute; right: 0; top: calc(100% + 6px);
  min-width: 180px; background: #fff; color: var(--ink);
  border: 1px solid #E6EEF9; border-radius: 10px; padding: 6px; box-shadow: 0 10px 30px rgba(0,0,0,0.15);
  z-index: 70;
}
.utility-menuitem { display: block; padding: 8px 10px; border-radius: 8px; color: var(--ink); text-decoration: none; font-weight: 600; }
.utility-menuitem:hover, .utility-menuitem:focus-visible { background: #F5F7FA; outline: none; }
.utility-menuitem-btn { width: 100%; text-align: left; background: transparent; border: none; cursor: pointer; }

/* Dark mode ready tokens */
@media (prefers-color-scheme: dark) {
  :root {
    --utilityBg: color-mix(in srgb, var(--primary) 12%, #0f1320);
    --utilityInk: #e8ebf1;
    --utilityBorder: #2a3550;
  }
  .utility-menu { background: #0e1422; color: var(--utilityInk); border-color: #2a3550; }
  .utility-menuitem { color: var(--utilityInk); }
  .utility-menuitem:hover, .utility-menuitem:focus-visible { background: #141a2a; }
}
/* Where we operate – Helios style */
.wo-section { background: color-mix(in srgb, var(--primary) 12%, #0B0F17); color: #fff; position: relative; }
.wo-grid { display: grid; grid-template-columns: 720px 40px 1fr; gap: 0; align-items: start; padding: 96px 0 24px; }
@media (max-width: 1199px) { .wo-grid { grid-template-columns: 1fr; gap: 28px; } }
.wo-map-wrap { grid-column: 1; padding: 16px 16px 0 0; }
.wo-map { width: 100%; height: auto; display: block; }
.wo-map-inline svg { width: 100%; height: auto; display: block; }
.wo-copy { grid-column: 3; display: grid; gap: 16px; align-content: start; }
.wo-eyebrow { text-transform: uppercase; letter-spacing: 0.12em; font-weight: 700; font-size: 14px; opacity: 0.9; }
.wo-title { margin: 0; font-weight: 800; font-size: clamp(32px, 4vw, 48px); line-height: 1.15; }
.wo-desc { margin: 0; font-size: 18px; line-height: 1.6; max-width: 70ch; color: #E6EEF9; }
.wo-cta { display: inline-flex; align-items: center; gap: 12px; padding: 10px 16px; border-radius: 12px; border: 2px solid #fff; color: #fff; text-decoration: none; font-weight: 700; min-height: 48px; }
.wo-cta:hover { background: color-mix(in srgb, var(--primary) 12%, transparent); }
.wo-cta:focus-visible { outline: 2px solid #fff; outline-offset: 2px; }

/* Map tokens */
:root {
  --map-country-rest: color-mix(in srgb, var(--primary) 40%, white);
  --map-country-related: color-mix(in srgb, var(--primary) 25%, white);
  --map-country-active: color-mix(in srgb, var(--primary) 90%, black);
  --map-stroke: color-mix(in srgb, var(--primary) 80%, black);
}
@media (max-width: 1199px) {
  .wo-country { stroke-width: 1px; }
}
.wo-country { fill: var(--map-country-rest); stroke: var(--map-stroke); stroke-width: 1.2px; transition: fill 160ms ease, stroke-width 160ms ease; cursor: pointer; }
.wo-related { fill: var(--map-country-related); }
.wo-active { fill: var(--map-country-active); }
.wo-country.is-hover { stroke-width: 2px; }
.wo-country.is-active { fill: var(--map-country-active); stroke-width: 2px; }
.wo-country.is-focus { stroke: #ffffff; stroke-width: 2.5px; }
.wo-hit { fill: none; stroke: transparent; stroke-width: 16px; pointer-events: stroke; }

/* Tooltip */
.wo-tooltip { position: absolute; background: #fff; color: var(--ink); border: 1px solid #E6EEF9; border-radius: 10px; padding: 8px 10px; box-shadow: 0 10px 30px rgba(0,0,0,0.12); pointer-events: none; transform: translate(0, -100%); transition: opacity 120ms ease; }
.wo-tip-title { font-weight: 700; font-size: 14px; }
.wo-tip-kpi { font-size: 12px; color: #4B5563; }
.wo-section .site-footer { display: none !important; }
section .site-footer { display: none !important; }

/* Editorial Cards Section */
.edcards-section { padding: clamp(56px, 8vw, 96px) 0; background: transparent; }
.edcards-wrap { display: grid; gap: 16px; }
.edcards-title { margin: 0; font-weight: 800; font-size: clamp(28px, 4vw, 44px); line-height: 1.2; }
.edcards-intro { margin: 0; max-width: 70ch; color: #CBD5E1; }
.edcards-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 24px; }
@media (max-width: 1199px) { .edcards-grid { grid-template-columns: repeat(2, 1fr); } }
@media (max-width: 767px) { .edcards-grid { grid-template-columns: 1fr; } }
.edcard { position: relative; display: block; border-radius: 16px; overflow: hidden; color: #fff; text-decoration: none; box-shadow: var(--shadow-soft); }
.edcard:focus-visible { outline: 2px solid var(--brand); outline-offset: 2px; }
.edcard-media { position: relative; aspect-ratio: 16 / 9; background: #0b1215; }
.edcard-img { object-fit: cover; transition: transform 260ms var(--ease-base); will-change: transform; }
.edcard-tint { position: absolute; inset: 0; background: linear-gradient(180deg, rgba(0,0,0,0.10), rgba(0,0,0,0.28)), linear-gradient(0deg, color-mix(in srgb, var(--brand) 12%, transparent), transparent); pointer-events: none; }
.edcard-content { position: absolute; left: 16px; right: 16px; bottom: 14px; display: grid; gap: 6px; }
.edcard-title-row { display: inline-flex; align-items: baseline; gap: 8px; }
.edcard-title { font-weight: 600; font-size: clamp(16px, 2.2vw, 20px); }
.edcard-desc { margin: 0; font-size: 14px; color: #E6EEF9; }
.edcard-arrow { display: inline-flex; align-items: baseline; }
.edcard-arrow svg { transition: transform 200ms var(--ease-base); }
.edcard:hover .edcard-img, .edcard:focus-visible .edcard-img { transform: scale(1.03); }
.edcard:hover .edcard-arrow svg, .edcard:focus-visible .edcard-arrow svg { transform: translateX(4px); }
@media (prefers-reduced-motion: reduce) { .edcard-img, .edcard-arrow svg { transition: none !important; } }

/* KPI Band */
.kpi-band { position: relative; background: #fff; color: var(--ink); overflow: clip; 
  /* Default/mobile-first height; refined per breakpoint below */
  min-height: 70vh; /* minimum absolu */
  height: clamp(560px, 76vh, 800px); /* mobile cible ~72–80vh, sweet ~76vh, fallback px */
  /* Horizontal paddings target: 24–40px via variable */
  --kpi-hpad: clamp(24px, 4vw, 40px);
}
@supports (height: 1dvh) {
  .kpi-band { min-height: 70dvh; height: clamp(560px, 76dvh, 800px); }
}
/* Tablette: 78–86vh (impact visuel), sweet spot ~82vh */
@media (min-width: 768px) and (max-width: 1279px) {
  .kpi-band { height: clamp(680px, 82vh, 860px); }
  @supports (height: 1dvh) {
    .kpi-band { height: clamp(680px, 82dvh, 860px); }
  }
}
/* Desktop: 80–90vh (sweet 84vh) avec minimum absolu 70vh et fallback 720–900px */
@media (min-width: 1280px) {
  .kpi-band { height: clamp(720px, 84vh, 900px); }
  @supports (height: 1dvh) {
    .kpi-band { height: clamp(720px, 84dvh, 900px); }
  }
}
/* background media & overlays removed for KPI-only display */
.kpi-wrap { position: relative; z-index: 2; display: grid; gap: clamp(12px, 2vw, 20px); align-content: center; 
  /* Vertical paddings: 7–12% of viewport (ex: ~64–120px desktop) */
  padding-block: clamp(64px, 9vh, 120px);
}
/* Full-bleed KPI grid wrapper — occupy entire section width */
.kpi-grid-bleed { width: 100vw; margin-left: calc(50% - 50vw); padding-left: var(--kpi-hpad); padding-right: var(--kpi-hpad); }
/* Reserve 30–40% width as a safe text area on larger screens */
.kpi-content { width: min(40%, 560px); }
@media (max-width: 1279px) { .kpi-content { width: min(40%, 560px); } }
@media (max-width: 767px) { .kpi-content { width: 100%; } }
/* Container sizing inside KPI band: max-width 1200–1320px and lateral paddings 24–40px */
.kpi-band > .container { width: auto; max-width: 1320px; padding-left: var(--kpi-hpad); padding-right: var(--kpi-hpad); }
.kpi-head { display: grid; gap: 8px; margin-bottom: 1em; }
.kpi-title { position: relative; margin: 0; font-weight: 800; font-size: clamp(30px, 3.6vw, 48px); line-height: 1.15; color: #0b1215; }
.kpi-title::before { content: ""; position: absolute; left: -16px; top: 0.12em; bottom: 0.12em; width: 3px; background: var(--brandPrimary, var(--primary)); border-radius: 2px; }
.kpi-intro { margin: 0; color: #E6EEF9; max-width: 70ch; opacity: 0.95; }
/* 12-col reference grid for values and labels, aligned to left axis */
.kpi-values, .kpi-labels { display: grid; grid-template-columns: repeat(12, 1fr); column-gap: clamp(16px, 3vw, 40px); }
.kpi-content { max-width: none; }
/* Head spans columns 1-8 on desktop to leave space on the right visually */
@media (min-width: 1280px) {
  .kpi-content { display: grid; grid-template-columns: repeat(12, 1fr); }
  .kpi-head { grid-column: 1 / span 8; }
}
/* Desktop placement: KPI1 1-4, KPI2 5-8, KPI3 9-12 */
.kpi-col { display: block; }
.kpi-values { align-items: baseline; }
@media (min-width: 1280px) {
  .kpi-col-1 { grid-column: 1 / span 4; }
  .kpi-col-2 { grid-column: 5 / span 4; }
  .kpi-col-3 { grid-column: 9 / span 4; }
}
/* Tablet: two columns; place 1/2 on first row, 3 spans full width below */
@media (min-width: 768px) and (max-width: 1279px) {
  .kpi-col-1 { grid-column: 1 / span 6; }
  .kpi-col-2 { grid-column: 7 / span 6; }
  .kpi-col-3 { grid-column: 1 / span 12; margin-top: 12px; }
}
/* Mobile: single column stack */
@media (max-width: 767px) {
  .kpi-col-1, .kpi-col-2, .kpi-col-3 { grid-column: 1 / -1; }
}
.kpi-item { display: contents; }
.kpi-value { color: #111827; font-weight: 900; font-size: clamp(30px, 6vw, 64px); line-height: 1.06; letter-spacing: -0.02em; text-wrap: balance; }
.kpi-label { font-size: clamp(14px, 1.6vw, 18px); color: #475569; max-width: 60ch; opacity: 0.88; margin-top: 6px; }
@media (prefers-reduced-motion: reduce) { .kpi-value { transition: none !important; } }

/* Sweep overlay above content; moves upward with low opacity to simulate cover */
.kpi-sweep { position: absolute; left: 0; right: 0; bottom: 0; height: 70%; z-index: 3; pointer-events: none;
  background: linear-gradient(0deg, rgba(1,4,22,0.85) 0%, rgba(1,4,22,0) 70%);
  opacity: 0; will-change: transform, opacity;
}

/* Slight dynamic opacity adjustment for KPI values during the sweep */
.kpi-value { opacity: var(--kpiValueOpacity, 1); }

/* Match height with the 'Relier les communautés...' section (.full-hero) */
.kpi-band { height: auto; min-height: 140vh; }

